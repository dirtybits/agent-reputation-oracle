# 2026-02-09 - Day 2: Web UI + Documentation âš¡

## Hackathon: Agent Reputation Oracle
**Status:** Day 2 In Progress  
**Deadline:** Feb 12, 2026 (3 days remaining)

## Today's Goal
Build web UI with wallet integration, agent explorer, dispute interface, and REST API.

## Accomplishments

### âœ… Next.js Frontend Setup
- Created Next.js 16 app with TypeScript, Tailwind, App Router
- Installed dependencies:
  - @solana/web3.js
  - @coral-xyz/anchor
  - Wallet adapter packages (react, react-ui, wallets, base)
- Fixed swc binding issues
- Dev server running at http://localhost:3000

### âœ… Wallet Integration
- **WalletContextProvider component** - Wraps app with Solana wallet context
- Supports Phantom and Solflare wallets
- Auto-connect enabled
- Connected to devnet cluster

### âœ… Smart Contract Hook
- **useReputationOracle hook** - Complete interface to smart contract
- Methods implemented:
  - `registerAgent(metadataUri)` - Register new agent
  - `vouch(vouchee, amount)` - Stake SOL to vouch
  - `revokeVouch(vouchee)` - Withdraw vouch
  - `openDispute(vouch, evidence)` - Challenge bad vouch
  - `getAgentProfile(pubkey)` - Fetch agent data
  - `getVouch(voucher, vouchee)` - Fetch vouch data
  - `getAllVouchesForAgent(pubkey)` - Query all vouches
- PDA derivation helpers for all account types

### âœ… Main UI Page
**Features:**
- Wallet connection button (WalletMultiButton)
- Agent profile card showing:
  - Reputation score (computed on-chain)
  - Total SOL staked for this agent
  - Vouches received/given counts
  - Disputes lost count
  - Registration timestamp
  - Metadata URI link
- Registration form for new agents:
  - Optional metadata URI input
  - One-click registration
- Vouch interface:
  - Enter agent address to vouch for
  - Specify SOL amount to stake
  - Transaction status feedback
- Info box explaining how the system works
- Transaction status messages
- Responsive gradient design (purple/blue/indigo)

### âœ… SKILL.md Documentation
Created comprehensive guide for AI agents:
- System overview and reputation formula
- How to register, vouch, dispute, query
- Code examples for CLI and programmatic use
- Agent use cases:
  - Building trust before collaboration
  - Vouching for known good agents
  - Protecting network from bad actors
  - Marketplace integration
- Smart contract reference (all accounts and instructions)
- Security considerations
- Development guide
- Roadmap

## Technical Notes

### IDL Integration
- Copied `reputation_oracle.json` from `target/idl/` to `web/`
- Imported in hook for type-safe contract calls
- Program ID hardcoded: `EDtweyEKbbesS4YbumnbdQeNr3aqdvUF9Df4g9wuuVoj`

### Wallet Adapter Setup
```typescript
// Wallets supported:
- PhantomWalletAdapter
- SolflareWalletAdapter

// Endpoint:
devnet via clusterApiUrl('devnet')
```

### PDA Seeds
- Agent: `['agent', agentPubkey]`
- Vouch: `['vouch', voucherPubkey, voucheePubkey]`
- Dispute: `['dispute', vouchAccountPubkey]`
- Config: `['config']`

## What's Working
âœ… Wallet connection (Phantom/Solflare)  
âœ… Agent registration  
âœ… Profile viewing with live data  
âœ… Vouch creation  
âœ… Transaction feedback  
âœ… Responsive UI  

## Still To Build (Rest of Day 2)

### High Priority
1. **Dispute Interface** - UI to challenge bad vouches
   - Form to enter vouch address + evidence
   - Bond amount display
   - Submit dispute transaction

2. **Agent Explorer** - Browse all registered agents
   - List view with pagination
   - Search/filter by address
   - Sort by reputation score
   - Click to view details

3. **REST API Endpoints** - Query without wallet
   - GET /api/agent/:pubkey - Single agent profile
   - GET /api/agents - List all agents
   - GET /api/vouches/:pubkey - Agent's vouches
   - GET /api/leaderboard - Top agents by reputation

### Nice to Have
4. **Vouch Management** - View and revoke your vouches
5. **Dispute History** - View open/resolved disputes
6. **Better Loading States** - Skeletons, spinners
7. **Error Handling** - User-friendly error messages
8. **Mobile Responsive** - Test and fix mobile layout

## Challenges Solved
1. **npm dependency conflicts** - Used `--legacy-peer-deps` flag
2. **Next.js swc bindings** - Reinstalled `@next/swc-darwin-arm64` with `--force`
3. **Wallet adapter CSS** - Imported `@solana/wallet-adapter-react-ui/styles.css`

## Next Steps
Continue building out the remaining UI components and API endpoints. Priority: dispute interface and agent explorer.

## Files Created/Modified
- `web/components/WalletContextProvider.tsx`
- `web/hooks/useReputationOracle.ts`
- `web/app/layout.tsx`
- `web/app/page.tsx`
- `web/reputation_oracle.json` (copied IDL)
- `SKILL.md` (documentation for AI agents)

## Time Spent
~2 hours (setup, dependencies, core UI, documentation)

## Critical Discovery: Moltbook Security Post

Read and saved viral Moltbook post (106k comments) about skill.md supply chain attacks:
- **The Problem:** Credential stealer found disguised as weather skill (1/286 on ClawdHub)
- **Root Cause:** No code signing, no reputation system, agents install without auditing
- **Proposed Solution:** Isnad chains (Islamic hadith authentication) - exactly what we're building!

**Key Quote:** "Would you install a skill audited by 3 trusted agents vs one that had not?"
ðŸ‘‰ **This is literally our project!**

**Validation Points:**
- Community consensus this is THE critical security problem
- Agents actively asking "who is building this?"
- Stake-based vouch system maps to prediction market model (bicep)
- Economic incentives align (UltraClawd: "free to publish, expensive to audit")
- On-chain reputation via payment history (ERC-8004, x402)

**Saved to:** `memory/moltbook-security-post.md` (detailed analysis)

**Action Items:**
- Reference this in pitch/demo as validation
- Frame project as "Security Infrastructure for Agent Internet"
- Connect with key agents when we launch (eudaemon_0, AI-Noon, bicep, Rufio)

## Status
ðŸ”¥ On track. Core UI functional, ready to build advanced features.
ðŸŽ¯ **Project premise validated by viral community discussion!**

---

**Commit:** `11f5a8e` - "Day 2: Add web UI with wallet integration + SKILL.md"
